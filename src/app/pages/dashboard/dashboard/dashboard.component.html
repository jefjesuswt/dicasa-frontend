<div class="min-h-screen bg-[var(--bg-dark)] text-[var(--text-secondary)] font-sans bg-grid">
  <header
    class="pt-12 pb-12 mt-14 border-b border-[var(--border-light)] bg-[var(--bg-panel)]/90 backdrop-blur-sm top-0 z-40">
    <div class="container mx-auto px-6">
      <div class="reveal-on-scroll">
        <div class="flex items-center gap-3 mb-4">
          <div
            class="inline-block px-3 py-1 border border-sky-500/30 bg-sky-500/10 text-sky-400 text-xs tracking-widest">
            DASHBOARD // {{ isAdmin() ? "ADMINISTRADOR" : "GERENTE" }} <span class="text-xs opacity-50 ml-2">Roles: {{
              user()?.roles | json }}</span>
          </div>
          <div class="h-px flex-grow bg-gradient-to-r from-sky-500/30 to-transparent"></div>
        </div>

        <h1
          class="text-4xl lg:text-5xl font-bold text-[var(--text-heading)] uppercase tracking-tight leading-none mb-2">
          Panel de
          <span class="text-transparent bg-clip-text bg-gradient-to-r from-sky-400 to-blue-600">Gestión</span>
        </h1>
        <p class="text-[var(--text-secondary)] border-l-2 border-sky-500 pl-4 mt-4 max-w-2xl">
          Bienvenido,
          <span class="text-[var(--text-heading)] font-medium">{{ user()?.name }}</span>. Visualiza métricas en tiempo
          real y administra
          el inventario
          inmobiliario.
        </p>
      </div>
    </div>
  </header>

  <section class="border-b border-[var(--border-light)] bg-[var(--bg-panel)]/50 py-12">
    <div class="container mx-auto px-6 reveal-on-scroll" style="transition-delay: 100ms">
      <h4 class="text-xs font-bold text-[var(--text-muted)] uppercase tracking-widest mb-8 flex items-center gap-2">
        <i class="pi pi-chart-bar"></i> Métricas Generales
      </h4>
      <dashboard-stat-cards [stats]="stats"></dashboard-stat-cards>
    </div>
  </section>

  <div class="container mx-auto px-6 py-12">
    <div class="mb-10 reveal-on-scroll" style="transition-delay: 200ms">
      <nav class="flex flex-wrap border-b border-[var(--border-light)]">
        <a routerLink="properties" routerLinkActive="!text-sky-500 !border-sky-500 bg-[var(--bg-elevated)]"
          [routerLinkActiveOptions]="{ exact: false }"
          class="group relative px-6 py-4 text-sm font-bold uppercase tracking-widest text-[var(--text-muted)] border-b-2 border-transparent hover:text-[var(--text-heading)] hover:bg-[var(--bg-elevated)] transition-all cursor-pointer flex items-center gap-3">
          <i class="pi pi-home text-lg mb-0.5"></i>
          <span>Propiedades</span>
          <span
            class="absolute bottom-[-2px] left-0 w-full h-[2px] bg-sky-500/50 scale-x-0 group-hover:scale-x-100 transition-transform duration-300 origin-left"></span>
        </a>

        @if (isAdmin()) {
        <a routerLink="users" routerLinkActive="!text-sky-500 !border-sky-500 bg-[var(--bg-elevated)]"
          class="group relative px-6 py-4 text-sm font-bold uppercase tracking-widest text-[var(--text-muted)] border-b-2 border-transparent hover:text-[var(--text-heading)] hover:bg-[var(--bg-elevated)] transition-all cursor-pointer flex items-center gap-3">
          <i class="pi pi-users text-lg mb-0.5"></i>
          <span>Usuarios</span>
          <span
            class="absolute bottom-[-2px] left-0 w-full h-[2px] bg-sky-500/50 scale-x-0 group-hover:scale-x-100 transition-transform duration-300 origin-left"></span>
        </a>
        }

        <a routerLink="/dashboard/appointments" routerLinkActive="!text-sky-500 !border-sky-500 bg-[var(--bg-elevated)]"
          class="group relative px-6 py-4 text-sm font-bold uppercase tracking-widest text-[var(--text-muted)] border-b-2 border-transparent hover:text-[var(--text-heading)] hover:bg-[var(--bg-elevated)] transition-all cursor-pointer flex items-center gap-3">
          <i class="pi pi-calendar text-lg mb-0.5"></i>
          <span>Agenda</span>
          <span
            class="absolute bottom-[-2px] left-0 w-full h-[2px] bg-sky-500/50 scale-x-0 group-hover:scale-x-100 transition-transform duration-300 origin-left"></span>
        </a>

        @if (isAdmin() || isManager()) {
        <a routerLink="statistics" routerLinkActive="!text-sky-500 !border-sky-500 bg-[var(--bg-elevated)]"
          class="group relative px-6 py-4 text-sm font-bold uppercase tracking-widest text-[var(--text-muted)] border-b-2 border-transparent hover:text-[var(--text-heading)] hover:bg-[var(--bg-elevated)] transition-all cursor-pointer flex items-center gap-3">
          <i class="pi pi-chart-line text-lg mb-0.5"></i>
          <!-- Icono Chart -->
          <span>Estadísticas</span>
          <span
            class="absolute bottom-[-2px] left-0 w-full h-[2px] bg-sky-500/50 scale-x-0 group-hover:scale-x-100 transition-transform duration-300 origin-left"></span>
        </a>
        }

        @if (isAdmin()) {
        <a routerLink="action-logs" routerLinkActive="!text-sky-500 !border-sky-500 bg-[var(--bg-elevated)]"
          class="group relative px-6 py-4 text-sm font-bold uppercase tracking-widest text-[var(--text-muted)] border-b-2 border-transparent hover:text-[var(--text-heading)] hover:bg-[var(--bg-elevated)] transition-all cursor-pointer flex items-center gap-3">
          <i class="pi pi-list text-lg mb-0.5"></i>
          <span>Registros</span>
          <span
            class="absolute bottom-[-2px] left-0 w-full h-[2px] bg-sky-500/50 scale-x-0 group-hover:scale-x-100 transition-transform duration-300 origin-left"></span>
        </a>
        }

        @if (isAdmin()) {
        <a routerLink="backup" routerLinkActive="!text-sky-500 !border-sky-500 bg-[var(--bg-elevated)]"
          class="group relative px-6 py-4 text-sm font-bold uppercase tracking-widest text-[var(--text-muted)] border-b-2 border-transparent hover:text-[var(--text-heading)] hover:bg-[var(--bg-elevated)] transition-all cursor-pointer flex items-center gap-3">
          <i class="pi pi-database text-lg mb-0.5"></i>
          <span>Respaldos</span>
          <span
            class="absolute bottom-[-2px] left-0 w-full h-[2px] bg-sky-500/50 scale-x-0 group-hover:scale-x-100 transition-transform duration-300 origin-left"></span>
        </a>
        }

        <a routerLink="manual" routerLinkActive="!text-sky-500 !border-sky-500 bg-[var(--bg-elevated)]"
          class="group relative px-6 py-4 text-sm font-bold uppercase tracking-widest text-[var(--text-muted)] border-b-2 border-transparent hover:text-[var(--text-heading)] hover:bg-[var(--bg-elevated)] transition-all cursor-pointer flex items-center gap-3">
          <i class="pi pi-book text-lg mb-0.5"></i>
          <span>Manual</span>
          <span
            class="absolute bottom-[-2px] left-0 w-full h-[2px] bg-sky-500/50 scale-x-0 group-hover:scale-x-100 transition-transform duration-300 origin-left"></span>
        </a>



      </nav>
    </div>

    <div class="reveal-on-scroll min-h-[400px]" style="transition-delay: 300ms">
      <router-outlet></router-outlet>
    </div>
  </div>
</div>